(this["webpackJsonpens-resolver"]=this["webpackJsonpens-resolver"]||[]).push([[0],{1012:function(e,n){},1014:function(e,n){},1015:function(e,n){},1020:function(e,n){},1022:function(e,n){},1029:function(e,n){},1031:function(e,n){},1049:function(e,n){},1051:function(e,n){},1063:function(e,n){},1066:function(e,n){},1093:function(e,n){},1095:function(e,n){},1173:function(e,n){},1175:function(e,n){},1195:function(e,n){},1208:function(e,n){},1213:function(e,n){},1269:function(e,n){},1291:function(e,n){},1298:function(e,n){},1424:function(e,n){},1443:function(e,n){},1623:function(e,n){},1625:function(e,n){},1656:function(e,n){},1657:function(e,n){},1663:function(e,n){},1706:function(e,n){},1713:function(e,n){},1715:function(e,n){},1871:function(e,n){},2082:function(e,n,t){"use strict";t.r(n);var r,a=t(1),o=t.n(a),c=t(45),i=t.n(c),s=t(549),p=t(21),u=t.n(p),d=t(192),m=t(206),f=t(546),l=t(86),j=[{name:"Agent",domain:"agent.aragonpm.eth",type:"app"},{name:"Finance",domain:"finance.aragonpm.eth",type:"app"},{name:"Fundraising",domain:"aragon-fundraising.aragonpm.eth",type:"app"},{name:"Survey",domain:"survey.aragonpm.eth",type:"app"},{name:"TokenManager",domain:"token-manager.aragonpm.eth",type:"app"},{name:"Vault",domain:"vault.aragonpm.eth",type:"app"},{name:"Voting",domain:"voting.aragonpm.eth",type:"app"},{name:"Company",domain:"company-template.aragonpm.eth",type:"template"},{name:"Dandelion",domain:"dandelion-org-template.aragonpm.eth",type:"template"},{name:"Membership",domain:"membership-template.aragonpm.eth",type:"template"},{name:"Reputation",domain:"reputation-template.aragonpm.eth",type:"template"},{domain:"redemptions.aragonpm.eth",name:"Redemptions",type:"app"},{domain:"address-book.aragonpm.eth",name:"Address Book",type:"app"},{domain:"allocations.aragonpm.eth",name:"Allocations",type:"app"},{domain:"discussions.aragonpm.eth",name:"Discussions",type:"app"},{domain:"dot-voting.aragonpm.eth",name:"Dot Voting",type:"app"},{domain:"projects.aragonpm.eth",name:"Projects",type:"app"},{domain:"rewards.aragonpm.eth",name:"Rewards",type:"app"}],b=new Map([[1,{ensRegistry:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"Ethereum Mainnet",type:"main"}],[4,{ensRegistry:"0x98df287b6c145399aaa709692c8d308357bc085d",name:"Ethereum Rinkeby Testnet",type:"rinkeby"}],[137,{ensRegistry:"0x3c70a0190d09f34519e6e218364451add21b7d4b",name:"Polygon Mainnet",type:"matic"}],[80001,{ensRegistry:"0x431f0eed904590b176f9ff8c36a1c4ff0ee9b982",name:"Polygon Mumbai Testnet",type:"mumbai"}]]),h=t(894),y=t.n(h),g=t(403),O=t(23),v=t(48),x=O.default.span(r||(r=Object(g.a)(["\n  color: red;\n"])));function w(e){var n=e.error,t=e.address,r=e.networkType;return Object(v.jsx)(v.Fragment,{children:n?Object(v.jsx)(x,{children:n}):Object(v.jsx)(l.IdentityBadge,{shorten:!1,entity:t,networkType:r})})}var k,R=t(898),T=t.n(R),A=t(2089);function C(e){var n=e.repo,t=e.provider,r=e.network,o=Object(a.useState)(null),c=Object(d.a)(o,2),i=c[0],s=c[1];return Object(a.useState)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T()(t,{ensRegistryAddress:r.ensRegistry});case 2:return a=e.sent,o=A.a.namehash(n.domain),e.prev=4,e.next=7,a.getAllVersions(o);case 7:c=e.sent,s(c.reverse()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),s([]);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,r]),i?0===i.length?Object(v.jsx)(S,{children:"No versions"}):Object(v.jsx)("div",{children:i.map((function(e){return Object(v.jsxs)(S,{children:[Object(v.jsx)(l.Tag,{mode:"new",children:e.version}),Object(v.jsxs)("div",{children:[e.content.provider,":",Object(v.jsx)(l.TextCopy,{value:e.content.location})]}),Object(v.jsx)(w,{address:e.contractAddress,networkType:r.type})]},e.version)}))}):null}var S=O.default.div(k||(k=Object(g.a)(["\n  padding: 24px;\n"])));function F(e){var n=e.apps,t=e.network,r=e.provider;return Object(v.jsx)("ol",{children:n.map((function(e,n){return Object(v.jsx)("li",{children:Object(v.jsx)(l.Field,{label:e.name,children:Object(v.jsx)(l.Accordion,{items:[[Object(v.jsxs)("div",{children:[e.domain," ("," ",Object(v.jsx)(w,{error:e.error,address:e.address,networkType:t.type}),")"]}),Object(v.jsx)(C,{repo:e,network:t,provider:r})]]})})},n)}))})}function E(e){var n=e.templates,t=e.network;return Object(v.jsx)("ol",{children:n.map((function(e,n){return Object(v.jsx)("li",{children:Object(v.jsxs)(l.Field,{label:e.name,children:[e.domain," ("," ",Object(v.jsx)(w,{error:e.error,address:e.address,networkType:t.type}),")"]})},n)}))})}function B(e,n){return M.apply(this,arguments)}function M(){return(M=Object(m.a)(u.a.mark((function e(n,t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.eth.ens.registry.getOwner(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(){var e=Object(a.useState)(null),n=Object(d.a)(e,2),t=n[0],r=n[1],o=Object(a.useState)("aragonpm.eth"),c=Object(d.a)(o,2),i=c[0],p=c[1],h=Object(a.useState)({}),g=Object(d.a)(h,2),O=g[0],x=g[1],k=Object(a.useState)({}),R=Object(d.a)(k,2),T=R[0],A=R[1],C=Object(a.useState)([]),S=Object(d.a)(C,2),M=S[0],P=S[1],I=Object(a.useState)({}),L=Object(d.a)(I,2),D=L[0],V=L[1];Object(a.useEffect)((function(){if(window.ethereum){var e=!1;function n(e){console.log("chainChanged",e),window.location.reload()}function t(){return(t=Object(m.a)(u.a.mark((function n(){var t,a,o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=new y.a(window.ethereum),n.next=3,t.eth.getChainId();case 3:a=n.sent,e||((o=b.get(a))&&(t.eth.ens.registryAddress=o.ensRegistry),r(t),V(o||{}));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),window.ethereum.on("chainChanged",n),function(){e=!0,window.ethereum.removeListener&&window.ethereum.removeListener("chainChanged",n)}}}),[]),Object(a.useEffect)((function(){var e=!1;if(t&&D.ensRegistry)return function(){n.apply(this,arguments)}(),function(){e=!0};function n(){return(n=Object(m.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(j.map(function(){var e=Object(m.a)(u.a.mark((function e(n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.ensResolve)(n.domain,{provider:t.currentProvider,registryAddress:D.ensRegistry});case 3:r=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a=e.t0.message;case 9:return e.abrupt("return",Object(s.a)(Object(s.a)({},n),{},{address:r,error:a}));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}()));case 2:r=n.sent,e||P(r);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}),[t,D]),Object(a.useEffect)((function(){var e=!1;if(t&&i&&D.ensRegistry)return function(){n.apply(this,arguments)}(),function(){e=!0};function n(){return(n=Object(m.a)(u.a.mark((function n(){var r,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(f.ensResolve)(i,{provider:t.currentProvider,registryAddress:D.ensRegistry});case 3:r=n.sent,e||x({address:r}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e||x({error:n.t0.message});case 10:return n.prev=10,n.next=13,B(t,i);case 13:a=n.sent,e||A({address:a}),n.next=20;break;case 17:n.prev=17,n.t1=n.catch(10),e||A({error:n.t1.message});case 20:case"end":return n.stop()}}),n,null,[[0,7],[10,17]])})))).apply(this,arguments)}}),[i,t,D]);var N=Object(a.useCallback)((function(e){console.log("value",e),p(e)}),[]);return Object(v.jsxs)(l.Main,{children:[Object(v.jsx)(l.Header,{primary:"Aragon ENS",secondary:D.name||"Unsupported network"}),Object(v.jsxs)(l.Box,{children:[Object(v.jsx)(l.Field,{label:"Lookup ENS name",children:Object(v.jsx)(l.SearchInput,{wide:!0,value:i,onChange:N})}),Object(v.jsxs)("div",{children:[Object(v.jsx)(l.Field,{label:"address",children:Object(v.jsx)(w,{error:O.error,address:O.address,networkType:D.type})}),Object(v.jsx)(l.Field,{label:"owner",children:Object(v.jsx)(w,{error:T.error,address:T.address,networkType:D.type})})]})]}),Object(v.jsx)(l.Box,{heading:"Known Apps:",children:Object(v.jsx)(F,{apps:M.filter((function(e){return"app"===e.type})),network:D,provider:t})}),Object(v.jsx)(l.Box,{heading:"Known Templates:",children:Object(v.jsx)(E,{templates:M.filter((function(e){return"template"===e.type})),network:D})})]})},I=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,2090)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,o=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),o(e),c(e)}))};i.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(P,{})}),document.getElementById("root")),I()},512:function(e,n){},832:function(e,n){},866:function(e,n){},919:function(e,n){},924:function(e,n){},938:function(e,n){},940:function(e,n){},963:function(e,n){},979:function(e,n){},981:function(e,n){}},[[2082,1,2]]]);
//# sourceMappingURL=main.4eacab5b.chunk.js.map