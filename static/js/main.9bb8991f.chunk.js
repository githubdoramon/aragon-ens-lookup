(this["webpackJsonpens-resolver"]=this["webpackJsonpens-resolver"]||[]).push([[0],{369:function(e,n){},379:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(36),s=t.n(o),i=t(4),c=t.n(i),p=t(77),d=t(67),u=t(192),l=t(54),m=new Map([[1,{ensRegistry:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"Ethereum Mainnet",type:"main"}],[4,{ensRegistry:"0x98df287b6c145399aaa709692c8d308357bc085d",name:"Ethereum Rinkeby Testnet",type:"rinkeby"}],[137,{ensRegistry:"0x3c70a0190d09f34519e6e218364451add21b7d4b",name:"Polygon Mainnet",type:"matic"}],[80001,{ensRegistry:"0x431f0eed904590b176f9ff8c36a1c4ff0ee9b982",name:"Polygon Mumbai Testnet",type:"mumbai"}],[421611,{ensRegistry:"0x206edd024d8ac4df5e8953619ea8355b91248af1",name:"Arbitrum Testnet",type:"rinkarby"}],[16667e5,{ensRegistry:"0xbc7828fa8665c637901ad5abd5c7e647c9ab140f",name:"Harmony Testnet 0",type:"harmonyTest0"}],[16666e5,{ensRegistry:"0x5d0d0212199b2c041483226b20f1e4ed6ca4a4de",name:"Harmony",type:"harmony"}]]),h=t(383),b=t(32);function j(e){var n=e.message;return Object(b.jsx)("div",{style:{color:"red",overflowWrap:"anywhere",display:"inline"},children:n})}function f(e){var n=e.encloseWithParathesis,t=e.children;return Object(b.jsxs)(b.Fragment,{children:[n?"(":"",t,n?")":""]})}function v(e){var n=e.provider,t=e.domain,r=e.networkType,o=e.encloseWithParathesis,s=Object(a.useState)(""),i=Object(d.a)(s,2),u=i[0],m=i[1],h=Object(a.useState)(),v=Object(d.a)(h,2),y=v[0],g=v[1];return Object(a.useEffect)((function(){var e=!1;function a(){return(a=Object(p.a)(c.a.mark((function a(){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n.resolveName(t);case 3:r=a.sent,e||m(r),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("error",a.t0),e||g(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){e=!0}}),[n,t]),y?Object(b.jsx)(f,{encloseWithParathesis:o,children:Object(b.jsx)(j,{message:y})}):u?Object(b.jsx)(f,{encloseWithParathesis:o,children:Object(b.jsx)(l.IdentityBadge,{shorten:!1,entity:u,networkType:r})}):null}var y,g=t(196),x=t(14),O=t(15),w=t(119),k=["function getVersionsCount() public view returns (uint256)","function getByVersionId(uint _versionId) public view returns (uint16[3] semanticVersion, address contractAddress, bytes contentURI)"],T=function(){function e(n){Object(x.a)(this,e),this.provider=n}return Object(O.a)(e,[{key:"getRepository",value:function(){var e=Object(p.a)(c.a.mark((function e(n){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.resolveName(n);case 2:return t=e.sent,e.abrupt("return",new w.a(t,k,this.provider));case 4:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getAllVersions",value:function(){var e=Object(p.a)(c.a.mark((function e(n){var t,a,r,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRepository(n);case 2:return t=e.sent,e.next=5,t.getVersionsCount();case 5:for(a=e.sent,r=[],o=1;o<=a;o++)r.push(t.getByVersionId(o));return e.next=10,Promise.all(r);case 10:return s=e.sent,e.abrupt("return",s.map((function(e){var n=e.semanticVersion,t=e.contractAddress,a=e.contentURI,r=h.b.toUtf8String(a).split(/:(.+)/),o=Object(d.a)(r,2),s=o[0],i=o[1];return{version:n.join("."),contractAddress:t,content:{provider:s,location:i}}})));case 12:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()}]),e}();function A(e){var n=e.repo,t=e.provider,r=e.network,o=Object(a.useState)(null),s=Object(d.a)(o,2),i=s[0],u=s[1];return console.log("in versions",n),Object(a.useState)((function(){var e=!1;function a(){return(a=Object(p.a)(c.a.mark((function a(){var r,o;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=new T(t),a.prev=1,a.next=4,r.getAllVersions(n.domain);case 4:o=a.sent,console.log("versions",o),e||u(o.reverse()),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),console.log("error",a.t0),e||u([]);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){e=!0}}),[n,t]),i?0===i.length?Object(b.jsx)(C,{children:"No versions"}):Object(b.jsx)("div",{children:i.map((function(e){return Object(b.jsxs)(C,{children:[Object(b.jsx)(l.Tag,{mode:"new",children:e.version}),Object(b.jsxs)("div",{children:[e.content.provider,":",Object(b.jsx)(l.TextCopy,{value:e.content.location})]}),Object(b.jsx)(l.IdentityBadge,{shorten:!1,entity:e.contractAddress,networkType:r.type})]},e.version)}))}):(console.log("no version"),null)}var C=t(18).default.div(y||(y=Object(g.a)(["\n  padding: 24px;\n"])));function R(e){var n=e.apps,t=e.network,a=e.provider;return Object(b.jsx)("ol",{children:n.map((function(e,n){return Object(b.jsx)("li",{children:Object(b.jsx)(l.Field,{label:e.name,children:Object(b.jsx)(l.Accordion,{items:[[Object(b.jsxs)("div",{children:[e.domain," ",Object(b.jsx)(v,{provider:a,domain:e.domain,networkType:t.type,encloseWithParathesis:!0})]}),Object(b.jsx)(A,{repo:e,network:t,provider:a})]]})})},n)}))})}var S=["function owner(bytes32 node) external view returns (address)"];function I(e){var n=e.provider,t=e.domain,r=e.networkType,o=Object(a.useState)(null),s=Object(d.a)(o,2),i=s[0],u=s[1];return Object(a.useEffect)((function(){var e=!1;function a(){return(a=Object(p.a)(c.a.mark((function a(){var o,s,i,p;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t&&r){a.next=3;break}return u(null),a.abrupt("return");case 3:return a.prev=3,a.next=6,n.getNetwork();case 6:if((o=a.sent).ensAddress){a.next=10;break}return e||u(null),a.abrupt("return");case 10:return s=new w.a(o.ensAddress,S,n),i=h.b.namehash(t),a.next=14,s.owner(i);case 14:p=a.sent,e||u(p),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(3),e||u(null);case 21:case"end":return a.stop()}}),a,null,[[3,18]])})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){e=!0}}),[n,t,r]),i?Object(b.jsx)(l.IdentityBadge,{shorten:!1,entity:i,networkType:r}):null}function P(){return Object(b.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:Object(b.jsx)("div",{style:{alignSelf:"center"},children:Object(b.jsx)(l.EmptyStateCard,{illustration:Object(b.jsx)("img",{width:"200px",src:"/aragon-ens-lookup/aragon-ui/48526b4ed811c6ff.png",alt:"metamask not found"}),text:"Opps! Metamask is not installed!"})})})}var B,F=[],V=Object(u.a)([{name:"Agent",domain:"agent.aragonpm.eth",type:"app"},{name:"Finance",domain:"finance.aragonpm.eth",type:"app"},{name:"Survey",domain:"survey.aragonpm.eth",type:"app"},{name:"Token Manager",domain:"token-manager.aragonpm.eth",type:"app"},{name:"Vault",domain:"vault.aragonpm.eth",type:"app"},{name:"Voting",domain:"voting.aragonpm.eth",type:"app"},{domain:"dandelion-voting.aragonpm.eth",name:"Dandelion Voting",type:"app"},{domain:"time-lock.aragonpm.eth",name:"Time Lock",type:"app"},{domain:"token-balance-oracle.aragonpm.eth",name:"Token Oracle",type:"app"},{domain:"token-request.aragonpm.eth",name:"Token Request",type:"app"},{domain:"redemptions.aragonpm.eth",name:"Redemptions",type:"app"},{domain:"address-book.aragonpm.eth",name:"Address Book",type:"app"},{domain:"allocations.aragonpm.eth",name:"Allocations",type:"app"},{domain:"discussions.aragonpm.eth",name:"Discussions",type:"app"},{domain:"dot-voting.aragonpm.eth",name:"Dot Voting",type:"app"},{domain:"projects.aragonpm.eth",name:"Projects",type:"app"},{domain:"rewards.aragonpm.eth",name:"Rewards",type:"app"},{name:"Company",domain:"company-template.aragonpm.eth",type:"template"},{name:"Membership",domain:"membership-template.aragonpm.eth",type:"template"},{name:"Reputation",domain:"reputation-template.aragonpm.eth",type:"template"},{name:"Dandelion",domain:"dandelion-org-template.aragonpm.eth",type:"template"},{name:"Open Enterprise",domain:"open-enterprise-template.aragonpm.eth",type:"template"},{name:"Fundraising",domain:"aragon-fundraising.aragonpm.eth",type:"template"}].values());try{for(V.s();!(B=V.n()).done;){var E=B.value;F.push(E)}}catch(N){V.e(N)}finally{V.f()}console.log("knownAddresses",F);var M=function(){var e=Object(a.useState)(null),n=Object(d.a)(e,2),t=n[0],r=n[1],o=Object(a.useState)("aragonpm.eth"),s=Object(d.a)(o,2),i=s[0],u=s[1],j=Object(a.useState)({}),f=Object(d.a)(j,2),y=f[0],g=f[1];Object(a.useEffect)((function(){if(window.ethereum){var e=function(e){console.log("chainChanged",e),window.location.reload()},n=function(){var e=Object(p.a)(c.a.mark((function e(){var n,a,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new h.a.Web3Provider(window.ethereum),e.prev=1,e.next=4,n.getNetwork();case 4:a=e.sent,t||(o=a.chainId,(s=m.get(o))?(a.ensAddress=s.ensRegistry,a.name=s.name):console.log("unsupported network",a),r(new h.a.Web3Provider(window.ethereum,a)),g(s||{})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),t=!1;return window.ethereum.on("chainChanged",e),n(),function(){t=!0,window.ethereum.removeListener&&window.ethereum.removeListener("chainChanged",e)}}}),[]);var x=Object(a.useCallback)((function(e){console.log("value",e),u(e)}),[]);return t?Object(b.jsxs)(l.Main,{children:[Object(b.jsx)(l.Header,{primary:"Aragon ENS",secondary:y.name||"Unsupported network"}),Object(b.jsxs)(l.Box,{children:[Object(b.jsx)(l.Field,{label:"Lookup ENS name",children:Object(b.jsx)(l.SearchInput,{wide:!0,value:i,onChange:x})}),Object(b.jsxs)("div",{children:[Object(b.jsx)(l.Field,{label:"address",children:Object(b.jsx)(v,{provider:t,domain:i,networkType:y.type})}),Object(b.jsx)(l.Field,{label:"owner",children:Object(b.jsx)(I,{provider:t,domain:i,networkType:y.type})})]})]}),Object(b.jsx)(l.Box,{heading:"Known Apps:",children:Object(b.jsx)(R,{apps:F.filter((function(e){return"app"===e.type})),network:y,provider:t})}),Object(b.jsx)(l.Box,{heading:"Known Templates:",children:Object(b.jsx)(R,{apps:F.filter((function(e){return"template"===e.type})),network:y,provider:t})})]}):Object(b.jsx)(P,{})},W=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,384)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,o=n.getLCP,s=n.getTTFB;t(e),a(e),r(e),o(e),s(e)}))};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(M,{})}),document.getElementById("root")),W()}},[[379,1,2]]]);
//# sourceMappingURL=main.9bb8991f.chunk.js.map